package VISSIM;

import VISSIM.Net;
import VISSIM.Simulation;
import VISSIM.VISSIM;
import VISSIM.Vehicle;
import data.structure.SimulatedVehicle;


public class Version1 {

	SimulatedVehicle simulatedVehicle;

    public Version1() {
        simulatedVehicle
    }
    public void receiveData(SimulatedVehicle visual)
    {
        simulatedVehicle = visual;
    }
    public  void run() {
		// TODO Auto-generated method stub
		VISSIM vissim = new VISSIM();
		vissim.loadpath("I:\\迅雷下载\\VISSIM510\\3-4.inpx");
		Simulation simulation = vissim.getSimlation();
		int count = 0;
		Net net = vissim.getnet();
        SimulatedVehicle simulatedVehicle;
		while (count < simulation.getPeriod()*simulation.getRes()) {
			simulation.RunSingle();
			if(count > 114)
			{
				Vehicle vehicle = net.getVehicle(1);
                if (simulatedVehicle!=null){
                    vehicle.setSpeed(simulatedVehicle.getSpeed());
                }
			}
			count++;
			
		}

	}

}
